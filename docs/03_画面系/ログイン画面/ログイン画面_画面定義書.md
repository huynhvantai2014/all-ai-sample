# ログイン画面_画面定義書

## 画面ID・論理名・物理名
## 画面定義書（IPA標準）

画面名 (Tên màn屏): ログイン画面
画面ID (Mã màn hình): 
画面物理名 (Tên vật lý màn hình): 

## 権限定義 (Phân quyền)

| 画面物理名 | 管理者 | マネージャー | 一般社員 | 観覧 | 組織 |
|------------|--------|-------------|----------|------|------|
| ログイン画面 | ○      | ○           | ○        | ○    | (Toàn bộ, 営業部, 技術部) |

## 項目定義 (Định nghĩa item)

| 論理名 | 物理名 | 項目タイプ | 説明 | IN/OUT | 必須 | 桁数 | 正規表現 | 初期値 | 制御内容 | 備考 |
|--------|--------|----------|------|--------|------|------|--------|--------|--------|------|
| ユーザーID | user_id | text | ユーザー識別子 | IN | ○ | | | | | |
| パスワード | password | password | ログイン用パスワード | IN | ○ | | | | | |

## イベント定義 (Event Definition)

### password onChange
### user_id onBlur

## 画面遷移 (Screen Transition)

| 遷移元画面ID | 遷移元画面名 | 遷移先画面ID | 遷移先画面名 | 条件・イベント | 備考 |
|--------------|--------------|--------------|--------------|--------------|------|
| ログイン画面 | ログイン画面 | リソースダッシュボード | リソースダッシュボード | ログイン成功時 |  |
| ログイン画面 | ログイン画面 | ログイン画面 | ログイン画面 | ログイン失敗時 |  |

## アクション一覧 (Action List)

| アクション名 | 論理名 | 説明 | 条件・権限 | API名 | HTTPメソッド | 関連イベント | 備考 |
|--------------|--------|------|------------|-------|-------------|--------------|------|
| ログイン      | login   | ユーザーログイン | 全員         | /api/auth/login      | POST  | ログインボタン onClick |  |

---

## API定義（参考・詳細）

### 1. login（POST /api/auth/login）
- API ID: API_AUTH_LOGIN_001
- エンドポイント: /api/auth/login
- メソッド: POST
- 業務機能: ユーザーログイン
- 入力:
	- user_id: string, 必須, ユーザーID
	- password: string, 必須, パスワード
- 出力:
	- token: string, 認証トークン
- エラー:
	- E101: 認証失敗
- 処理フロー: 入力検証→認証→結果返却
- 備考: AIによるパスワード強度判定（最大30%創造性）

---

## チェックリスト
- [x] テンプレート準拠
- [x] 入力・出力・エラー情報明記
- [x] 画面論理名・フォルダ名・ファイル名規則遵守

## 業務目的・業務価値
システム利用者が安全にログインし、権限に応じた機能へアクセスする。セキュリティ確保・履歴管理。

## 主な機能・業務フロー
- ユーザー名・パスワード入力
- OTP認証（任意）
- 権限判定（管理者/社員）
- ログイン・ログアウト履歴表示
- セッション管理・タイムアウト
- （テスト環境限定）ユーザー種別選択機能

### 業務フロー
1. ログイン画面表示
2. ユーザー名・パスワード入力
3. OTP認証（必要時）
4. 権限判定・画面遷移
5. 履歴保存

## 画面レイアウト・UI/UX観点
- レスポンシブ対応
- タッチ最適化（大きめボタン・入力欄）
- 情報量最小化、優先度高い項目のみ表示
- ワンタッチ操作、画面遷移最小化
- 多機能ボタン配置

## エラー・例外・メッセージ
- 認証失敗（ユーザー名・パスワード不一致）
- アカウントロック
- トークン無効

## 他画面との連携・遷移
- ダッシュボード画面（ログイン後遷移）
- パスワード再設定画面（リンク）

## 運用・セキュリティ・特記事項
- セキュリティ強化（OTP/パスワードポリシー）
- セッションtimeout設定

## チェックリスト
- [x] テンプレート準拠
- [x] 命名規則・フォルダ構成遵守
- [x] UI/UX観点記載
- [x] エラー・例外明記
- [x] 画面一覧と一致
- [x] 情報不足時は「情報不足」と明記
# ログイン画面_画面定義書# ログイン画面_画面定義書



## 使用API一覧---

- login（POST /api/login）

- getUserInfo（GET /api/user/info）## 使用API一覧



---### 1. ユーザー認証API



## API定義---

API ID: API_LOGIN_01

### 1. login（POST /api/login）API名: ユーザー認証

- API ID: API_LOGIN_001エンドポイント: /api/login

- エンドポイント: /api/loginメソッド: POST

- メソッド: POST

- 業務機能: ユーザー認証、セッション開始## 1. 機能概要


# ログイン画面_画面定義書

---

## 使用API一覧

| API名         | エンドポイント         | メソッド | 機能概要           |
|---------------|-----------------------|----------|--------------------|
| login         | /api/login            | POST     | ユーザー認証、セッション開始 |
| getUserInfo   | /api/user/info        | GET      | ログインユーザー情報取得 |

---

## API定義

### 1. login（POST /api/login）

**API ID:** API_LOGIN_001
**エンドポイント:** /api/login
**メソッド:** POST
**業務機能:** ユーザー認証、セッション開始

#### パラメータ定義
| パラメータ名 | 必須 | 型     | 説明                       |
|--------------|------|--------|----------------------------|
| username     | ○    | string | ユーザー名                 |
| password     | ○    | string | パスワード                 |
| userType     | △    | string | テスト環境用ユーザー種別   |

#### レスポンス定義
| フィールド名 | 型     | 説明           |
|--------------|--------|----------------|
| token        | string | 認証トークン   |
| userId       | string | ユーザーID     |
| role         | string | 権限           |

#### エラーコード・メッセージ
| コード | メッセージ           | 条件                       |
|-------|----------------------|----------------------------|
| E001  | 認証失敗             | ユーザー名・パスワード不一致|
| E002  | アカウントロック     | ロック状態                 |

#### 処理フロー
1. 入力検証
2. 認証処理
3. トークン発行
4. 結果返却

#### 備考
- テスト環境ではuserTypeで任意のユーザー種別を選択可能
- AI提案でログイン履歴分析や自動権限判定（最大30%創造性）

---

### 2. getUserInfo（GET /api/user/info）

**API ID:** API_USERINFO_001
**エンドポイント:** /api/user/info
**メソッド:** GET
**業務機能:** ログインユーザー情報取得

#### パラメータ定義
| パラメータ名 | 必須 | 型     | 説明           |
|--------------|------|--------|----------------|
| token        | ○    | string | 認証トークン   |

#### レスポンス定義
| フィールド名 | 型     | 説明           |
|--------------|--------|----------------|
| userId       | string | ユーザーID     |
| username     | string | ユーザー名     |
| role         | string | 権限           |
| lastLogin    | string | 最終ログイン日時|

#### エラーコード・メッセージ
| コード | メッセージ           | 条件           |
|-------|----------------------|----------------|
| E003  | トークン無効         | 認証トークン不正|

#### 処理フロー
1. トークン検証
2. ユーザー情報取得
3. 結果返却

#### 備考
- AIによるユーザー行動分析（最大30%創造性）

---

## チェックリスト
- [x] API定義はテンプレート準拠
- [x] 入力・出力・エラー情報明記
- [x] テスト環境用パラメータ記載
- [x] 画面論理名・フォルダ名・ファイル名規則遵守

> ※ API定義はIPA標準テンプレートに準拠
> ※ 不足情報は「情報不足」と明記
