# API定義書（IPA標準）

API名: addEmployee
API ID: API_EMPLOYEE_ADD_001
エンドポイント: /api/employee/add
HTTPメソッド: POST
関連画面: 新規社員追加画面

## 1. 機能概要
新規社員情報を登録する。メールアドレス・電話番号の重複チェックを行い、登録後に社員IDを発行する。

## 2. 入力パラメータ

| パラメータ名 | 必須 | データ型 | 桁数 | 説明 | 備考 |
|--------------|------|----------|------|------|------|
| full_name | ○ | string | 100 | 氏名 | - |
| email | ○ | string | 255 | メールアドレス | 重複チェック |
| phone | △ | string | 20 | 電話番号 | 重複チェック |
| department | ○ | string | 50 | 部署 | - |
| position | △ | string | 50 | 役職 | - |
| status | ○ | string | 20 | 状態 | active/inactive/pending |
| skill | △ | string | 500 | スキル | カンマ区切り |
| join_date | ○ | string | - | 入社日 | YYYY-MM-DD形式 |

## 3. 出力パラメータ

| フィールド名 | データ型 | 桁数 | 説明 | 備考 |
|--------------|----------|------|------|------|
| success | boolean | - | 処理成功フラグ | true/false |
| employee_id | string | 20 | 登録された社員ID | 自動採番 |
| message | string | 500 | 処理結果メッセージ | - |

## 4. エラーコード・メッセージ

| エラーコード | メッセージ | 発生条件 |
|--------------|------------|----------|
| E301 | 入力不備 | 必須項目未入力・形式エラー |
| E302 | メールアドレス重複 | 既存のメールアドレス |
| E303 | 電話番号重複 | 既存の電話番号 |
| E304 | 登録処理失敗 | DB登録エラー |
| E305 | 権限不足 | 登録権限なし |
| E999 | システムエラー | 予期しないエラー |

## 5. 処理フロー
1. 入力パラメータ検証
2. 権限チェック
3. メールアドレス・電話番号重複チェック
4. 社員ID自動採番
5. DB登録処理
6. レスポンス返却

## 6. セキュリティ・その他
- 管理者・一般社員のみ登録可能
- メールアドレス形式検証
- 電話番号形式検証
- トランザクション制御

## 7. テストケース
- 正常ケース: 正しい入力データ
- 異常ケース: 必須項目未入力、重複データ、権限なし

## 8. 備考
- AIによる入力補助・自動項目提案機能付き（最大30%創造性）